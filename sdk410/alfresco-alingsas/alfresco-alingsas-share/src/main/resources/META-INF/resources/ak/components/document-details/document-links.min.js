'use strict';(function(){var b=YAHOO.util.Dom,d=YAHOO.util.Event,c=YAHOO.util.Selector;Alfresco.CustomDocumentLinks=function(a){Alfresco.CustomDocumentLinks.superclass.constructor.call(this,"Alfresco.CustomDocumentLinks",a,[]);this.hasClipboard=window.clipboardData&&window.clipboardData.setData;return this};YAHOO.extend(Alfresco.CustomDocumentLinks,Alfresco.component.Base,{options:{nodeRef:null,siteId:null,fileName:null,actualHostName:null,actualHostContext:null},hasClipboard:null,onReady:function(){this.hasClipboard&&
b.removeClass(c.query("a.hidden",this.id),"hidden");d.addListener(c.query("input",this.id),"focus",this._handleFocus);b.get(this.id+"-page").value=document.location.protocol+"//"+document.location.host+document.location.pathname+document.location.search;b.get(this.id+"-preview").value=document.location.protocol+"//"+document.location.host+Alfresco.constants.URL_PAGECONTEXT+"preview"+document.location.search;var a=Alfresco.constants.PROXY_URI+"api/node/content/"+this.options.nodeRef.replace("://",
"/")+"/"+encodeURIComponent(this.options.fileName)+"?a=true";b.get(this.id+"-download").value=a},onCopyLinkClick:function(a,e){a=b.getPreviousSibling(e);window.clipboardData.setData("Text",a.value)},_handleFocus:function(){this.select()}})})();
